<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>C2 Group â€” Stand Didacta Firenze 2026</title>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NBNV7582');</script>
<!-- End Google Tag Manager -->

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,400&display=swap" rel="stylesheet">

<style>
:root {
  --c2-blue: #0046AA;
  --c2-blue-dark: #003080;
  --c2-blue-light: #E8F0FE;
  --c2-accent: #FF6B2B;
  --c2-accent-hover: #E85A1B;
  --c2-green: #1B9E5A;
  --c2-purple: #7B3FA0;
  --c2-warm: #F8F6F3;
  --c2-text: #1A1A2E;
  --c2-text-mid: #4A4A6A;
  --c2-text-light: #8888A0;
  --c2-border: #E2E2EE;
  --c2-card-bg: #FFFFFF;
  --c2-shadow: 0 2px 16px rgba(0,30,80,0.06);
  --c2-shadow-hover: 0 8px 32px rgba(0,30,80,0.12);
  --radius: 16px;
  --radius-sm: 10px;
  --radius-pill: 100px;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

html {
  font-size: 15px;
  -webkit-tap-highlight-color: transparent;
  scroll-behavior: smooth;
}

body {
  font-family: Arial, Helvetica, sans-serif;
  background: var(--c2-warm);
  color: var(--c2-text);
  min-height: 100vh;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

/* â”€â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.header {
  background: linear-gradient(135deg, var(--c2-blue) 0%, var(--c2-blue-dark) 100%);
  padding: 28px 40px 0;
  position: sticky;
  top: 0;
  z-index: 100;
  box-shadow: 0 4px 24px rgba(0,20,60,0.15);
}

.header-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 24px;
}

.brand {
  display: flex;
  align-items: center;
  gap: 18px;
}

.brand-logo-img {
  height: 38px;
  width: auto;
  object-fit: contain;
  filter: brightness(0) invert(1);
}

.brand-separator {
  width: 1.5px;
  height: 32px;
  background: rgba(255,255,255,0.3);
}

.brand-logo-didacta {
  height: 30px;
  width: auto;
  object-fit: contain;
  opacity: 0.9;
}

.header-info {
  text-align: right;
  color: rgba(255,255,255,0.85);
  font-size: 0.85rem;
  line-height: 1.5;
}

.header-info strong {
  color: white;
  font-weight: 600;
}

/* â”€â”€â”€ TABS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.tabs {
  display: flex;
  gap: 4px;
}

.tab {
  padding: 14px 28px;
  background: rgba(255,255,255,0.08);
  color: rgba(255,255,255,0.7);
  border: none;
  border-radius: 12px 12px 0 0;
  cursor: pointer;
  font-family: inherit;
  font-size: 0.92rem;
  font-weight: 500;
  transition: all 0.25s ease;
  letter-spacing: 0.2px;
  position: relative;
  bottom: -1px;
}

.tab:hover {
  background: rgba(255,255,255,0.15);
  color: rgba(255,255,255,0.9);
}

.tab.active {
  background: var(--c2-warm);
  color: var(--c2-blue);
  font-weight: 600;
}

.tab-icon {
  margin-right: 8px;
  font-size: 1.05em;
}

/* â”€â”€â”€ MAIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.main {
  max-width: 1400px;
  margin: 0 auto;
  padding: 28px 40px 60px;
}

.tab-content {
  display: none;
  animation: fadeUp 0.35s ease;
}

.tab-content.active {
  display: block;
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

/* â”€â”€â”€ FILTERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.filters-bar {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 24px;
  flex-wrap: wrap;
}

.filter-group {
  display: flex;
  align-items: center;
  gap: 6px;
}

.filter-label {
  font-size: 0.78rem;
  font-weight: 600;
  color: var(--c2-text-light);
  text-transform: uppercase;
  letter-spacing: 0.8px;
  margin-right: 4px;
  white-space: nowrap;
}

.filter-btn {
  padding: 10px 18px;
  border: 1.5px solid var(--c2-border);
  border-radius: var(--radius-pill);
  background: white;
  color: var(--c2-text-mid);
  font-family: inherit;
  font-size: 0.85rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
  user-select: none;
  -webkit-user-select: none;
}

.filter-btn:hover {
  border-color: var(--c2-blue);
  color: var(--c2-blue);
  background: var(--c2-blue-light);
}

.filter-btn.active {
  background: var(--c2-blue);
  color: white;
  border-color: var(--c2-blue);
}

.filter-separator {
  width: 1px;
  height: 28px;
  background: var(--c2-border);
  margin: 0 6px;
}

.search-box {
  flex: 1;
  min-width: 220px;
  position: relative;
}

.search-box input {
  width: 100%;
  padding: 10px 18px 10px 42px;
  border: 1.5px solid var(--c2-border);
  border-radius: var(--radius-pill);
  background: white;
  font-family: inherit;
  font-size: 0.88rem;
  color: var(--c2-text);
  outline: none;
  transition: border-color 0.2s;
}

.search-box input:focus {
  border-color: var(--c2-blue);
}

.search-box input::placeholder {
  color: var(--c2-text-light);
}

.search-box .search-icon {
  position: absolute;
  left: 16px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--c2-text-light);
  font-size: 0.95rem;
  pointer-events: none;
}

/* â”€â”€â”€ DAY SELECTOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.day-selector {
  display: flex;
  gap: 10px;
  margin-bottom: 28px;
}

.day-btn {
  flex: 1;
  padding: 18px 20px;
  border: 2px solid var(--c2-border);
  border-radius: var(--radius);
  background: white;
  cursor: pointer;
  font-family: inherit;
  transition: all 0.25s ease;
  text-align: center;
  user-select: none;
  -webkit-user-select: none;
}

.day-btn:hover {
  border-color: var(--c2-blue);
  transform: translateY(-2px);
  box-shadow: var(--c2-shadow);
}

.day-btn.active {
  border-color: var(--c2-blue);
  background: var(--c2-blue);
  color: white;
  box-shadow: 0 4px 20px rgba(0,70,170,0.25);
}

.day-btn .day-label {
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1px;
  opacity: 0.6;
  margin-bottom: 4px;
}

.day-btn.active .day-label { opacity: 0.8; }

.day-btn .day-date {
  font-family: 'Montserrat', Arial, sans-serif;
  font-size: 1.5rem;
  font-weight: 700;
}

.day-btn .day-count {
  font-size: 0.78rem;
  margin-top: 4px;
  opacity: 0.55;
  font-weight: 500;
}

.day-btn.active .day-count { opacity: 0.75; }

/* â”€â”€â”€ TYPE FILTERS (pills) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.type-filters {
  display: flex;
  gap: 8px;
  margin-bottom: 10px;
  flex-wrap: wrap;
}

.type-pill {
  padding: 8px 18px;
  border-radius: var(--radius-pill);
  border: 1.5px solid var(--c2-border);
  background: white;
  font-family: inherit;
  font-size: 0.82rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 6px;
  user-select: none;
  -webkit-user-select: none;
}

.type-pill:hover { border-color: var(--c2-blue); }

.type-pill.active {
  border-color: transparent;
  color: white;
}

.type-pill[data-type="Workshop"].active { background: var(--c2-blue); }
.type-pill[data-type="Demo"].active { background: var(--c2-green); }
.type-pill[data-type="Seminario"].active { background: var(--c2-purple); }
.type-pill[data-type="Visita Guidata"].active { background: var(--c2-accent); }

.type-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  display: inline-block;
}

.type-pill[data-type="Workshop"] .type-dot { background: var(--c2-blue); }
.type-pill[data-type="Demo"] .type-dot { background: var(--c2-green); }
.type-pill[data-type="Seminario"] .type-dot { background: var(--c2-purple); }
.type-pill[data-type="Visita Guidata"] .type-dot { background: var(--c2-accent); }
.type-pill.active .type-dot { background: white; }

.type-pill .pill-count {
  background: rgba(0,0,0,0.08);
  padding: 2px 8px;
  border-radius: 20px;
  font-size: 0.75rem;
  font-weight: 600;
}

.type-pill.active .pill-count { background: rgba(255,255,255,0.25); }

/* â”€â”€â”€ ROOM FILTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.room-filter-row {
  display: flex;
  gap: 8px;
  margin-bottom: 24px;
  flex-wrap: wrap;
  align-items: center;
}

.room-pill {
  padding: 7px 14px;
  border-radius: var(--radius-pill);
  border: 1.5px solid var(--c2-border);
  background: white;
  font-family: inherit;
  font-size: 0.78rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  color: var(--c2-text-mid);
  user-select: none;
  -webkit-user-select: none;
}

.room-pill:hover { border-color: var(--c2-blue); color: var(--c2-blue); }

.room-pill.active {
  background: var(--c2-text);
  color: white;
  border-color: var(--c2-text);
}

/* â”€â”€â”€ RESULTS COUNTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.results-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 18px;
}

.results-count {
  font-size: 0.85rem;
  color: var(--c2-text-light);
  font-weight: 500;
}

.results-count strong {
  color: var(--c2-text);
  font-weight: 700;
}

/* â”€â”€â”€ VIEW TOGGLE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.view-toggle {
  display: flex;
  background: white;
  border: 1.5px solid var(--c2-border);
  border-radius: var(--radius-pill);
  overflow: hidden;
  padding: 3px;
}

.view-toggle-btn {
  padding: 7px 16px;
  border: none;
  background: transparent;
  font-family: Arial, sans-serif;
  font-size: 0.82rem;
  font-weight: 500;
  color: var(--c2-text-mid);
  cursor: pointer;
  border-radius: var(--radius-pill);
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 6px;
  white-space: nowrap;
  user-select: none;
  -webkit-user-select: none;
}

.view-toggle-btn:hover {
  color: var(--c2-text);
}

.view-toggle-btn.active {
  background: var(--c2-blue);
  color: white;
  font-weight: 600;
}

/* â”€â”€â”€ ROOM GROUP (for Vista per Aula) â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.room-group {
  margin-bottom: 36px;
}

.room-group-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
  padding: 10px 18px;
  background: white;
  border-radius: var(--radius);
  box-shadow: 0 1px 6px rgba(0,0,0,0.06);
  position: sticky;
  top: 140px;
  z-index: 10;
}

.room-group-icon {
  width: 36px;
  height: 36px;
  border-radius: 10px;
  background: var(--c2-blue-light);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.1rem;
  flex-shrink: 0;
}

.room-group-name {
  font-family: 'Montserrat', Arial, sans-serif;
  font-size: 1.05rem;
  font-weight: 700;
  color: var(--c2-text);
}

.room-group-count {
  font-size: 0.78rem;
  color: var(--c2-text-light);
  font-weight: 500;
  margin-left: auto;
}

/* â”€â”€â”€ TIMELINE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.timeline {
  position: relative;
}

.time-group {
  margin-bottom: 32px;
}

.time-label {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 14px;
  padding: 6px 16px 6px 12px;
  background: white;
  border-radius: var(--radius-pill);
  box-shadow: 0 1px 6px rgba(0,0,0,0.06);
  position: sticky;
  top: 140px;
  z-index: 10;
}

.time-label .clock-icon {
  font-size: 1.1rem;
}

.time-label span {
  font-family: Arial, sans-serif;
  font-size: 1rem;
  font-weight: 700;
  color: var(--c2-text);
  letter-spacing: -0.3px;
}

.events-row {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
  gap: 14px;
}

/* â”€â”€â”€ EVENT CARD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.event-card {
  background: var(--c2-card-bg);
  border-radius: var(--radius);
  border: 1.5px solid var(--c2-border);
  overflow: hidden;
  transition: all 0.25s ease;
  cursor: pointer;
  position: relative;
}

.event-card:hover {
  border-color: transparent;
  box-shadow: var(--c2-shadow-hover);
  transform: translateY(-3px);
}

.event-card-stripe {
  height: 4px;
  width: 100%;
}

.event-card[data-type="Workshop"] .event-card-stripe { background: var(--c2-blue); }
.event-card[data-type="Demo"] .event-card-stripe { background: var(--c2-green); }
.event-card[data-type="Seminario"] .event-card-stripe { background: var(--c2-purple); }
.event-card[data-type="Visita Guidata"] .event-card-stripe { background: var(--c2-accent); }

.event-card-body {
  padding: 18px 20px;
}

.event-card-meta {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 10px;
  flex-wrap: wrap;
}

.event-type-badge {
  padding: 3px 10px;
  border-radius: 6px;
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.6px;
}

.event-card[data-type="Workshop"] .event-type-badge { background: rgba(0,70,170,0.1); color: var(--c2-blue); }
.event-card[data-type="Demo"] .event-type-badge { background: rgba(27,158,90,0.1); color: var(--c2-green); }
.event-card[data-type="Seminario"] .event-type-badge { background: rgba(123,63,160,0.1); color: var(--c2-purple); }
.event-card[data-type="Visita Guidata"] .event-type-badge { background: rgba(255,107,43,0.1); color: var(--c2-accent); }

.event-partner {
  font-size: 0.78rem;
  font-weight: 600;
  color: var(--c2-text-mid);
  display: flex;
  align-items: center;
  gap: 5px;
}

.event-card-title {
  font-family: 'Montserrat', Arial, sans-serif;
  font-size: 1.05rem;
  font-weight: 700;
  line-height: 1.35;
  color: var(--c2-text);
  margin-bottom: 8px;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.event-card-room {
  font-size: 0.78rem;
  color: var(--c2-text-light);
  display: flex;
  align-items: center;
  gap: 5px;
}

.event-card-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 20px;
  border-top: 1px solid var(--c2-border);
  background: rgba(0,0,0,0.015);
}

.event-capacity {
  font-size: 0.78rem;
  color: var(--c2-text-light);
  display: flex;
  align-items: center;
  gap: 5px;
}

.event-capacity .cap-bar {
  width: 48px;
  height: 4px;
  border-radius: 2px;
  background: var(--c2-border);
  overflow: hidden;
}

.event-capacity .cap-fill {
  height: 100%;
  border-radius: 2px;
  background: var(--c2-green);
  transition: width 0.6s ease;
}

.event-detail-btn {
  font-size: 0.78rem;
  color: var(--c2-blue);
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 4px;
  background: none;
  border: none;
  cursor: pointer;
  font-family: inherit;
  transition: gap 0.2s;
}

.event-detail-btn:hover {
  gap: 8px;
}

/* â”€â”€â”€ SOLD OUT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.event-card.sold-out {
  opacity: 0.65;
  pointer-events: auto;
}

.event-card.sold-out .event-card-body {
  position: relative;
}

.sold-out-badge {
  position: absolute;
  top: 12px;
  right: 12px;
  background: #D32F2F;
  color: white;
  font-family: 'Montserrat', Arial, sans-serif;
  font-size: 0.65rem;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 1px;
  padding: 5px 12px;
  border-radius: 6px;
  box-shadow: 0 2px 8px rgba(211,47,47,0.3);
  z-index: 2;
  transform: rotate(2deg);
}

.event-card.sold-out .event-card-stripe {
  background: #999 !important;
}

.event-card.sold-out .cap-fill {
  background: #D32F2F !important;
}

/* Sold out in modal */
.modal-sold-out-banner {
  display: flex;
  align-items: center;
  gap: 10px;
  background: #FDE8E8;
  border: 1.5px solid #F5C6C6;
  border-radius: var(--radius-sm);
  padding: 12px 18px;
  margin-bottom: 20px;
}

.modal-sold-out-banner .sold-out-icon {
  font-size: 1.3rem;
}

.modal-sold-out-banner .sold-out-text {
  font-size: 0.88rem;
  font-weight: 600;
  color: #B71C1C;
}

/* â”€â”€â”€ MODAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.modal-overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(10,15,30,0.5);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  z-index: 1000;
  justify-content: center;
  align-items: center;
  padding: 30px;
  animation: fadeIn 0.2s ease;
}

.modal-overlay.active {
  display: flex;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.modal {
  background: white;
  border-radius: 20px;
  max-width: 680px;
  width: 100%;
  max-height: 85vh;
  overflow-y: auto;
  box-shadow: 0 25px 80px rgba(0,0,0,0.2);
  animation: modalSlide 0.3s ease;
  position: relative;
}

@keyframes modalSlide {
  from { opacity: 0; transform: translateY(30px) scale(0.97); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

.modal-stripe {
  height: 6px;
  width: 100%;
  border-radius: 20px 20px 0 0;
}

.modal[data-type="Workshop"] .modal-stripe { background: var(--c2-blue); }
.modal[data-type="Demo"] .modal-stripe { background: var(--c2-green); }
.modal[data-type="Seminario"] .modal-stripe { background: var(--c2-purple); }
.modal[data-type="Visita Guidata"] .modal-stripe { background: var(--c2-accent); }

.modal-close {
  position: absolute;
  top: 18px;
  right: 18px;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: none;
  background: rgba(0,0,0,0.05);
  cursor: pointer;
  font-size: 1.2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--c2-text-mid);
  transition: background 0.2s;
  z-index: 2;
}

.modal-close:hover { background: rgba(0,0,0,0.1); }

.modal-content {
  padding: 36px 36px 28px;
}

.modal-meta {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 16px;
  flex-wrap: wrap;
}

.modal-type-badge {
  padding: 5px 14px;
  border-radius: 8px;
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.6px;
}

.modal[data-type="Workshop"] .modal-type-badge { background: rgba(0,70,170,0.1); color: var(--c2-blue); }
.modal[data-type="Demo"] .modal-type-badge { background: rgba(27,158,90,0.1); color: var(--c2-green); }
.modal[data-type="Seminario"] .modal-type-badge { background: rgba(123,63,160,0.1); color: var(--c2-purple); }
.modal[data-type="Visita Guidata"] .modal-type-badge { background: rgba(255,107,43,0.1); color: var(--c2-accent); }

.modal-code {
  font-size: 0.78rem;
  color: var(--c2-text-light);
  font-weight: 600;
  font-family: Arial, monospace;
}

.modal-title {
  font-family: 'Montserrat', Arial, sans-serif;
  font-size: 1.5rem;
  font-weight: 700;
  line-height: 1.3;
  color: var(--c2-text);
  margin-bottom: 20px;
}

.modal-info-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  margin-bottom: 24px;
}

.modal-info-item {
  background: var(--c2-warm);
  border-radius: var(--radius-sm);
  padding: 14px 16px;
}

.modal-info-item .info-label {
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.8px;
  color: var(--c2-text-light);
  margin-bottom: 4px;
}

.modal-info-item .info-value {
  font-size: 0.92rem;
  font-weight: 600;
  color: var(--c2-text);
}

.modal-abstract-label {
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.8px;
  color: var(--c2-text-light);
  margin-bottom: 8px;
}

.modal-abstract {
  font-size: 0.95rem;
  line-height: 1.7;
  color: var(--c2-text-mid);
  margin-bottom: 28px;
}

.modal-actions {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.btn-primary {
  padding: 14px 28px;
  background: var(--c2-accent);
  color: white;
  border: none;
  border-radius: var(--radius-sm);
  font-family: inherit;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 8px;
}

.btn-primary:hover {
  background: var(--c2-accent-hover);
  transform: translateY(-1px);
  box-shadow: 0 4px 16px rgba(255,107,43,0.3);
}

.btn-secondary {
  padding: 14px 28px;
  background: white;
  color: var(--c2-blue);
  border: 1.5px solid var(--c2-blue);
  border-radius: var(--radius-sm);
  font-family: inherit;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 8px;
}

.btn-secondary:hover {
  background: var(--c2-blue-light);
}

/* â”€â”€â”€ PLACEHOLDER TABS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.placeholder-section {
  text-align: center;
  padding: 80px 40px;
}

.placeholder-icon {
  font-size: 3rem;
  margin-bottom: 16px;
  opacity: 0.3;
}

.placeholder-title {
  font-family: 'Montserrat', Arial, sans-serif;
  font-size: 1.5rem;
  color: var(--c2-text);
  margin-bottom: 8px;
}

.placeholder-text {
  font-size: 0.92rem;
  color: var(--c2-text-light);
  max-width: 400px;
  margin: 0 auto;
  line-height: 1.6;
}

/* â”€â”€â”€ EMPTY STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.empty-state {
  text-align: center;
  padding: 60px 20px;
  color: var(--c2-text-light);
}

.empty-state .empty-icon {
  font-size: 2.5rem;
  margin-bottom: 12px;
  opacity: 0.3;
}

.empty-state p {
  font-size: 0.95rem;
}

/* â”€â”€â”€ SCROLLBAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.12); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: rgba(0,0,0,0.2); }

/* â”€â”€â”€ TOUCH / RESPONSIVE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
@media (max-width: 768px) {
  .header { padding: 20px 20px 0; }
  .main { padding: 20px 20px 40px; }
  .header-top { flex-direction: column; align-items: flex-start; gap: 10px; }
  .header-info { text-align: left; }
  .events-row { grid-template-columns: 1fr; }
  .modal-content { padding: 24px 24px 20px; }
  .modal-info-grid { grid-template-columns: 1fr; }
  .day-selector { flex-direction: column; }
}

@media (min-width: 1600px) {
  html { font-size: 17px; }
}
</style>
</head>
<body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NBNV7582"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<div class="header">
  <div class="header-top">
    <div class="brand">
      <img src="loghi/C2_Oriz.png" alt="C2 Group" class="brand-logo-img">
      <div class="brand-separator"></div>
      <img src="loghi/Didacta_W.png" alt="Didacta" class="brand-logo-didacta">
    </div>
    <div class="header-info">
      <strong>Stand K42 â€” Pad. Spadolini Inferiore</strong><br>
      Fortezza da Basso, Firenze â€” 11 Â· 12 Â· 13 Marzo 2026
    </div>
  </div>
  <div class="tabs">
    <button class="tab active" data-tab="eventi"><span class="tab-icon">ğŸ“…</span> Eventi</button>
    <button class="tab" data-tab="mappa"><span class="tab-icon">ğŸ—ºï¸</span> Mappa Stand</button>
    <button class="tab" data-tab="materiali"><span class="tab-icon">ğŸ“¦</span> Materiali</button>
  </div>
</div>

<div class="main">

  <!-- â•â•â• TAB: EVENTI â•â•â• -->
  <div class="tab-content active" id="tab-eventi">

    <div class="day-selector" id="daySelector"></div>

    <div class="type-filters" id="typeFilters"></div>

    <div class="room-filter-row" id="roomFilters">
      <span class="filter-label" style="margin-right:2px">Area:</span>
    </div>

    <div style="margin-bottom:24px">
      <div class="search-box">
        <span class="search-icon">ğŸ”</span>
        <input type="text" id="searchInput" placeholder="Cerca per titolo, partner o parola chiaveâ€¦">
      </div>
    </div>

    <div class="results-bar">
      <div class="results-count" id="resultsCount"></div>
      <div class="view-toggle" id="viewToggle">
        <button class="view-toggle-btn active" data-view="time">ğŸ• Per Orario</button>
        <button class="view-toggle-btn" data-view="room">ğŸ“ Per Aula</button>
      </div>
    </div>

    <div class="timeline" id="timeline"></div>
  </div>

  <!-- â•â•â• TAB: MAPPA â•â•â• -->
  <div class="tab-content" id="tab-mappa">
    <div class="placeholder-section">
      <div class="placeholder-icon">ğŸ—ºï¸</div>
      <div class="placeholder-title">Mappa dello Stand</div>
      <p class="placeholder-text">Qui troverai la mappa interattiva del nostro stand con il dettaglio di tutte le aree espositive e i punti di interesse.</p>
    </div>
  </div>

  <!-- â•â•â• TAB: MATERIALI â•â•â• -->
  <div class="tab-content" id="tab-materiali">
    <div class="placeholder-section">
      <div class="placeholder-icon">ğŸ“¦</div>
      <div class="placeholder-title">Materiali e Brochure</div>
      <p class="placeholder-text">Scarica brochure, cataloghi e schede tecniche dei prodotti e delle soluzioni presenti nel nostro stand.</p>
    </div>
  </div>

</div>

<!-- â•â•â• MODAL â•â•â• -->
<div class="modal-overlay" id="modalOverlay">
  <div class="modal" id="modal">
    <div class="modal-stripe"></div>
    <button class="modal-close" id="modalClose">âœ•</button>
    <div class="modal-content" id="modalContent"></div>
  </div>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// EVENT DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let EVENTS = [];

async function loadData() {
  try {
    const resp = await fetch('data.json?t=' + Date.now());
    EVENTS = await resp.json();
  } catch(err) {
    console.error('Errore caricamento data.json:', err);
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// PARTNER LOGOS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const PARTNER_LOGOS = {
  'Adobe': 'loghi/Adobe.png',
  'AID': 'loghi/AID.png',
  'Arduino': 'loghi/Arduino.png',
  'Bullismo No Grazie': 'loghi/Bullismo.png',
  'C2 Group': 'loghi/C2_Oriz.png',
  'Canva': 'loghi/Canva.png',
  'Chiara Celino': null,
  'CIOFS': 'loghi/CIOF.png',
  'Corriere della Sera': 'loghi/Corriere_della_Sera.png',
  'Delightex Edu': 'loghi/Delightex_Edu.png',
  'DSGA Online': 'loghi/DSGA_Online.png',
  'Genially': 'loghi/Genially.png',
  'Google for Education': 'loghi/Google.png',
  'LEGOÂ® Education': 'loghi/Lego.png',
  'Okulus Scuola Sicura': null,
  'ThingLink': 'loghi/ThingLink.png',
  'TOG': null,
  'Verse': 'loghi/Verse.png',
  'Zebra Multimedia': 'loghi/Zebra.png',
  '-': null
};

function partnerLogoHTML(partner, size = 20) {
  const src = PARTNER_LOGOS[partner];
  if (!src) return `<span class="partner-name-text">${partner}</span>`;
  return `<img src="${src}" alt="${partner}" title="${partner}" style="height:${size}px;width:auto;object-fit:contain;vertical-align:middle;">`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const DATES = ['2026-03-11','2026-03-12','2026-03-13'];
const DATE_LABELS = {'2026-03-11':'MercoledÃ¬ 11 Marzo','2026-03-12':'GiovedÃ¬ 12 Marzo','2026-03-13':'VenerdÃ¬ 13 Marzo'};
const DATE_SHORT = {'2026-03-11':'11 Marzo','2026-03-12':'12 Marzo','2026-03-13':'13 Marzo'};
const DAY_NAMES = {'2026-03-11':'Giorno 1','2026-03-12':'Giorno 2','2026-03-13':'Giorno 3'};

let state = {
  activeDay: '2026-03-11',
  activeTypes: new Set(['Workshop','Demo','Seminario','Visita Guidata']),
  activeRoom: null, // null = all
  search: '',
  viewMode: 'time' // 'time' or 'room'
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function init() {
  await loadData();
  buildDaySelector();
  buildTypeFilters();
  buildRoomFilters();
  bindTabs();
  bindSearch();
  bindModal();
  bindViewToggle();
  render();

  // Auto-refresh dati ogni 60 secondi (per aggiornamento iscritti)
  setInterval(async () => {
    await loadData();
    render();
  }, 60000);
}

// â”€â”€ Tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function bindTabs() {
  document.querySelectorAll('.tab').forEach(tab => {
    tab.addEventListener('click', () => {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
      tab.classList.add('active');
      document.getElementById('tab-' + tab.dataset.tab).classList.add('active');
    });
  });
}

// â”€â”€ Day selector â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function buildDaySelector() {
  const el = document.getElementById('daySelector');
  el.innerHTML = DATES.map(d => {
    const count = EVENTS.filter(e => e.date === d).length;
    return `<button class="day-btn ${d === state.activeDay ? 'active' : ''}" data-date="${d}">
      <div class="day-label">${DAY_NAMES[d]}</div>
      <div class="day-date">${DATE_SHORT[d]}</div>
      <div class="day-count">${count} eventi</div>
    </button>`;
  }).join('');

  el.querySelectorAll('.day-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      state.activeDay = btn.dataset.date;
      el.querySelectorAll('.day-btn').forEach(b => b.classList.toggle('active', b.dataset.date === state.activeDay));
      render();
    });
  });
}

// â”€â”€ Type filters â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function buildTypeFilters() {
  const types = ['Workshop','Demo','Seminario','Visita Guidata'];
  const el = document.getElementById('typeFilters');
  el.innerHTML = types.map(t => {
    const count = EVENTS.filter(e => e.type === t && e.date === state.activeDay).length;
    return `<button class="type-pill active" data-type="${t}">
      <span class="type-dot"></span> ${t} <span class="pill-count">${count}</span>
    </button>`;
  }).join('');

  el.querySelectorAll('.type-pill').forEach(pill => {
    pill.addEventListener('click', () => {
      const type = pill.dataset.type;
      if (state.activeTypes.has(type)) {
        if (state.activeTypes.size > 1) state.activeTypes.delete(type);
      } else {
        state.activeTypes.add(type);
      }
      pill.classList.toggle('active', state.activeTypes.has(type));
      render();
    });
  });
}

function updateTypeCounts() {
  document.querySelectorAll('.type-pill').forEach(pill => {
    const t = pill.dataset.type;
    const count = EVENTS.filter(e => e.type === t && e.date === state.activeDay).length;
    pill.querySelector('.pill-count').textContent = count;
  });
}

// â”€â”€ Room filters â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function buildRoomFilters() {
  const rooms = [...new Set(EVENTS.map(e => e.room))].sort();
  const el = document.getElementById('roomFilters');
  el.innerHTML = '<span class="filter-label" style="margin-right:2px">Area:</span>' +
    `<button class="room-pill active" data-room="all">Tutte</button>` +
    rooms.map(r => `<button class="room-pill" data-room="${r}">${r}</button>`).join('');

  el.querySelectorAll('.room-pill').forEach(pill => {
    pill.addEventListener('click', () => {
      state.activeRoom = pill.dataset.room === 'all' ? null : pill.dataset.room;
      el.querySelectorAll('.room-pill').forEach(p => p.classList.remove('active'));
      pill.classList.add('active');
      render();
    });
  });
}

// â”€â”€ Search â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function bindSearch() {
  const input = document.getElementById('searchInput');
  let debounce;
  input.addEventListener('input', () => {
    clearTimeout(debounce);
    debounce = setTimeout(() => {
      state.search = input.value.toLowerCase().trim();
      render();
    }, 200);
  });
}

// â”€â”€ View Toggle â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function bindViewToggle() {
  const toggle = document.getElementById('viewToggle');
  toggle.querySelectorAll('.view-toggle-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      state.viewMode = btn.dataset.view;
      toggle.querySelectorAll('.view-toggle-btn').forEach(b => b.classList.toggle('active', b.dataset.view === state.viewMode));
      render();
    });
  });
}

function updateViewToggleVisibility() {
  const toggle = document.getElementById('viewToggle');
  // Hide the toggle when a specific room is filtered (room view makes no sense with 1 room)
  if (state.activeRoom) {
    toggle.style.opacity = '0.35';
    toggle.style.pointerEvents = 'none';
    // Force time view when single room selected
    state.viewMode = 'time';
    toggle.querySelectorAll('.view-toggle-btn').forEach(b => b.classList.toggle('active', b.dataset.view === 'time'));
  } else {
    toggle.style.opacity = '1';
    toggle.style.pointerEvents = 'auto';
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function render() {
  updateTypeCounts();
  updateViewToggleVisibility();

  let filtered = EVENTS.filter(e => {
    if (e.date !== state.activeDay) return false;
    if (!state.activeTypes.has(e.type)) return false;
    if (state.activeRoom && e.room !== state.activeRoom) return false;
    if (state.search) {
      const haystack = (e.title + ' ' + e.partner + ' ' + e.abstract + ' ' + e.code + ' ' + e.room).toLowerCase();
      if (!haystack.includes(state.search)) return false;
    }
    return true;
  });

  // Sort by time
  filtered.sort((a, b) => a.time.localeCompare(b.time));

  const timeline = document.getElementById('timeline');
  const resultsCount = document.getElementById('resultsCount');

  resultsCount.innerHTML = `<strong>${filtered.length}</strong> eventi ${DATE_LABELS[state.activeDay]}`;

  if (filtered.length === 0) {
    timeline.innerHTML = `<div class="empty-state">
      <div class="empty-icon">ğŸ”</div>
      <p>Nessun evento trovato con i filtri selezionati</p>
    </div>`;
    return;
  }

  if (state.viewMode === 'room' && !state.activeRoom) {
    renderByRoom(filtered, timeline);
  } else {
    renderByTime(filtered, timeline);
  }

  // Bind card clicks
  timeline.querySelectorAll('.event-card').forEach(card => {
    card.addEventListener('click', () => openModal(card.dataset.code));
  });
}

const ROOM_ICONS = {
  'C2 AgorÃ ': 'ğŸ¤',
  'C2 Google Area powered by Acer': 'ğŸ’»',
  'C2 Robotica': 'ğŸ¤–',
  'C2 STEAM': 'ğŸ§±',
  'C2 Software Area': 'ğŸ–¥ï¸',
  'E16 Cavedio - Pad.Spadolini Inferiore': 'ğŸ›ï¸',
  "Kairos - L'aula delle Connessioni": 'âœ¨'
};

function renderByTime(filtered, container) {
  const groups = {};
  filtered.forEach(e => {
    if (!groups[e.time]) groups[e.time] = [];
    groups[e.time].push(e);
  });

  container.innerHTML = Object.entries(groups).map(([time, events]) => `
    <div class="time-group">
      <div class="time-label">
        <span class="clock-icon">ğŸ•</span>
        <span>${time}</span>
      </div>
      <div class="events-row">
        ${events.map(e => renderCard(e)).join('')}
      </div>
    </div>
  `).join('');
}

function renderByRoom(filtered, container) {
  // Group by room, maintaining order
  const roomOrder = [
    'C2 AgorÃ ',
    'C2 Google Area powered by Acer',
    'C2 STEAM',
    'C2 Robotica',
    'C2 Software Area',
    'E16 Cavedio - Pad.Spadolini Inferiore',
    "Kairos - L'aula delle Connessioni"
  ];

  const groups = {};
  filtered.forEach(e => {
    if (!groups[e.room]) groups[e.room] = [];
    groups[e.room].push(e);
  });

  // Sort rooms by predefined order
  const sortedRooms = Object.keys(groups).sort((a, b) => {
    const ia = roomOrder.indexOf(a);
    const ib = roomOrder.indexOf(b);
    return (ia === -1 ? 999 : ia) - (ib === -1 ? 999 : ib);
  });

  container.innerHTML = sortedRooms.map(room => {
    const events = groups[room];
    const icon = ROOM_ICONS[room] || 'ğŸ“';
    return `
      <div class="room-group">
        <div class="room-group-header">
          <div class="room-group-icon">${icon}</div>
          <div class="room-group-name">${room}</div>
          <div class="room-group-count">${events.length} eventi</div>
        </div>
        <div class="events-row">
          ${events.map(e => renderCard(e, true)).join('')}
        </div>
      </div>
    `;
  }).join('');
}

function renderCard(e, showTime = false) {
  const pct = e.capacity > 0 ? Math.round((e.enrolled / e.capacity) * 100) : 0;
  const isSoldOut = e.capacity > 0 && e.enrolled >= e.capacity;
  const soldOutClass = isSoldOut ? ' sold-out' : '';
  const soldOutBadge = isSoldOut ? '<div class="sold-out-badge">Sold Out</div>' : '';
  return `<div class="event-card${soldOutClass}" data-type="${e.type}" data-code="${e.code}">
    <div class="event-card-stripe"></div>
    <div class="event-card-body">
      ${soldOutBadge}
      <div class="event-card-meta">
        <span class="event-type-badge">${e.type}</span>
        ${showTime ? `<span class="event-type-badge" style="background:rgba(0,0,0,0.06);color:var(--c2-text);">ğŸ• ${e.time}</span>` : ''}
        <span class="event-partner">${partnerLogoHTML(e.partner, 18)}</span>
      </div>
      <div class="event-card-title">${e.title}</div>
      <div class="event-card-room">ğŸ“ ${e.room}</div>
    </div>
    <div class="event-card-footer">
      <div class="event-capacity">
        <span>${e.enrolled}/${e.capacity} posti</span>
        <div class="cap-bar"><div class="cap-fill" style="width:${Math.min(pct,100)}%"></div></div>
      </div>
      <button class="event-detail-btn">Dettagli â†’</button>
    </div>
  </div>`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MODAL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function bindModal() {
  document.getElementById('modalOverlay').addEventListener('click', (e) => {
    if (e.target === document.getElementById('modalOverlay')) closeModal();
  });
  document.getElementById('modalClose').addEventListener('click', closeModal);
}

function openModal(code) {
  const e = EVENTS.find(ev => ev.code === code);
  if (!e) return;

  const modal = document.getElementById('modal');
  const overlay = document.getElementById('modalOverlay');
  modal.setAttribute('data-type', e.type);

  const dateLabel = DATE_LABELS[e.date] || e.date;
  const isSoldOut = e.capacity > 0 && e.enrolled >= e.capacity;

  document.getElementById('modalContent').innerHTML = `
    <div class="modal-meta">
      <span class="modal-type-badge">${e.type}</span>
      <span class="modal-code">${e.code}</span>
    </div>
    <h2 class="modal-title">${e.title}</h2>
    ${isSoldOut ? `<div class="modal-sold-out-banner">
      <span class="sold-out-icon">ğŸš«</span>
      <span class="sold-out-text">Evento al completo â€” Sold Out</span>
    </div>` : ''}
    <div class="modal-info-grid">
      <div class="modal-info-item">
        <div class="info-label">ğŸ“… Data e Ora</div>
        <div class="info-value">${dateLabel}<br>${e.time}</div>
      </div>
      <div class="modal-info-item">
        <div class="info-label">ğŸ“ Luogo</div>
        <div class="info-value">${e.room}</div>
      </div>
      <div class="modal-info-item">
        <div class="info-label">ğŸ¤ Partner</div>
        <div class="info-value" style="display:flex;align-items:center;gap:8px;">${partnerLogoHTML(e.partner, 28)}</div>
      </div>
      <div class="modal-info-item">
        <div class="info-label">ğŸ‘¥ Capienza</div>
        <div class="info-value">${e.enrolled} / ${e.capacity} iscritti</div>
      </div>
    </div>
    ${e.abstract ? `<div class="modal-abstract-label">Descrizione</div><p class="modal-abstract">${e.abstract}</p>` : ''}
    <div class="modal-actions">
      <button class="btn-primary cta-dettagli-evento" data-event-code="${e.code}">
        âœ‰ï¸ Ricevi dettagli via email
      </button>
    </div>
  `;

  overlay.classList.add('active');
  document.body.style.overflow = 'hidden';

  // Bind CTA â€” dataLayer push + class for Sleeknote
  const ctaBtn = modal.querySelector('.cta-dettagli-evento');
  if (ctaBtn) {
    ctaBtn.addEventListener('click', () => {
      // Push event data to dataLayer for GTM / Sleeknote
      window.dataLayer = window.dataLayer || [];
      window.dataLayer.push({
        'event': 'cta_dettagli_evento',
        'eventCode': e.code,
        'eventTitle': e.title,
        'eventType': e.type,
        'eventPartner': e.partner,
        'eventDate': e.date,
        'eventTime': e.time,
        'eventRoom': e.room,
        'eventAbstract': e.abstract,
        'eventLink': e.link,
        'eventCapacity': e.capacity,
        'eventEnrolled': e.enrolled
      });
    });
  }
}

function closeModal() {
  document.getElementById('modalOverlay').classList.remove('active');
  document.body.style.overflow = '';
}

// â”€â”€ Start â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.addEventListener('DOMContentLoaded', init);
</script>

</body>
</html>
